<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>rating</title>
    <style>
        .rating{
            width: 120px;
            height: 24px;
            margin: 50px auto;
        }

        .rating-item{
            list-style: none;
            float:left;
            width: 24px;
            height: 24px;
            background: url("img/rating.png") no-repeat;
            background-position: 0 0;
            cursor: pointer;
        }
    </style>
    <script src="http://img.mukewang.com/down/540812440001e40e00000000.js" type="text/javascript"></script>
</head>
<body>
    <div id="haha"></div>

    <ul class="rating" id="rating">
        <li class="rating-item" title="很不好"></li>
        <li class="rating-item" title="不好"></li>
        <li class="rating-item" title="一般"></li>
        <li class="rating-item" title="好"></li>
        <li class="rating-item" title="很好"></li>
    </ul>
    <ul class="rating" id="rating2">
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
    </ul>
    <ul class="rating" id="rating3">
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
    </ul>
    <ul class="rating" id="rating4">
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
        <li class="rating-item"></li>
    </ul>
<script>
    
   var rating =  (function () {
        function lightOn($item,num) {
            $item.each(function () {
                if($(this).index() < num){
                    $(this).css("background-position","0 -24px");
                }else{
                    $(this).css("background-position","0 0");
                }
            })
        }
        function init(el,num) {
          var  $rating = $(el),
                $item = $rating.find(".rating-item");
                lightOn($item,num);
                $rating.on("mouseover",".rating-item",function () {
                    lightOn($item,$(this).index() + 1);
                }).on("click",".rating-item",function () {
                    num = $(this).index() + 1;
                }).on("mouseout",function () {
                    lightOn($item,num);
                })

        }

        $.fn.extend({
            rating:function (num) {
                $.rating(this,num);
            }
        });

        $.extend({
            rating:function (el,num) {
                init(el,num);
            }
        });

        return {
            init:init
        }
    })();
    rating.init("#rating",3);
    rating.init("#rating2",4);
    $("#rating3").rating(1);
    $.rating("#rating4",2);
   // $(".rating").rating(3);



// lightOn($("#rating4").find(".rating-item"),2);



    // ;(function (window,undefined) {
    //     function Jquery(el) {
    //         return new Jquery.fn.init(el);
    //     }
    //
    //     // Jquery.prototype = Jquery.fn;
    //
    //     Jquery.fn = Jquery.prototype = {
    //         init:function (el) {
    //             return document.getElementById(el);
    //         },
    //         con:function () {
    //             console.log("heihei");
    //         }
    //        // return document.getElementById(el);
    //     }
    //
    //     window.Jquery = window.$ = Jquery;
    // })(window);
    // console.log(Jquery("haha").con());




</script>
</body>
</html>